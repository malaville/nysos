<h2>{{ title | async }}</h2>
<form [formGroup]="myForm" #form="ngForm" autocomplete="off" novalidate>
  <!-- DOI -->
  <mat-form-field appearance="fill">
    <mat-label>DOI</mat-label>
    <input formControlName="doi" matInput />
  </mat-form-field>

  <!-- Reference Type -->
  <mat-form-field appearance="fill">
    <mat-label>Reference Type</mat-label>
    <mat-select formControlName="referenceType">
      <mat-option
        *ngFor="let refType of ['Journal Article', 'Online']"
        [value]="refType"
        >{{ refType }}</mat-option
      >
    </mat-select>
  </mat-form-field>

  <!-- Title -->
  <mat-form-field appearance="fill">
    <mat-label>Title</mat-label>
    <input formControlName="title" matInput />
    <mat-error *ngIf="myForm.controls.title.errors?.required">
      The title is required
    </mat-error>
    <mat-error *ngIf="myForm.controls.title.errors?.minlength">
      The title should be longer than 10 chars
    </mat-error>
  </mat-form-field>

  <!-- Author(s) -->
  <mat-form-field appearance="fill">
    <mat-label>Author</mat-label>
    <input formControlName="author" matInput />
    <mat-error *ngIf="myForm.controls.author.errors?.required">
      The Author is required
    </mat-error>
    <mat-error *ngIf="myForm.controls.author.errors?.minlength">
      The author should be longer than 8 chars
    </mat-error>
  </mat-form-field>

  <!-- Journal -->
  <mat-form-field appearance="fill">
    <mat-label>Journal</mat-label>
    <input formControlName="journal" matInput />
  </mat-form-field>

  <!-- Year -->
  <mat-form-field appearance="fill">
    <mat-label>Publication Date</mat-label>
    <input
      matInput
      [matDatepicker]="date"
      fomrControlName="date"
      [value]="myForm.controls.date.value"
      (dateChange)="myForm.controls.date.setValue($event.value)"
    />
    <mat-datepicker-toggle matSuffix [for]="date"></mat-datepicker-toggle>
    <mat-datepicker #date></mat-datepicker>
  </mat-form-field>
  <!-- <div class="double-form-field-container">
  </div> -->

  <!-- Link -->
  <mat-form-field appearance="fill">
    <mat-label>Link</mat-label>
    <input formControlName="link" matInput url />
    <mat-error *ngIf="myForm.controls.link.errors?.validateUrl">
      The url doesn't match the right pattern
    </mat-error>
  </mat-form-field>

  <button
    mat-raised-button
    [color]="myForm.touched && !myForm.valid ? 'warn' : 'primary'"
    (click)="submitClicked()"
  >
    Save the document
  </button>
  <button mat-stroked-button (click)="mockDataClicked()">
    Mock the document
  </button>
  <button mat-stroked-button (click)="$event.preventDefault()" disabled>
    Import reference
  </button>
</form>
